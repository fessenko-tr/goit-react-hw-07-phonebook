(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(e,t,n){e.exports={form:"ContactForm_form__IWqVo",label:"ContactForm_label__1EY1l",input:"ContactForm_input__3Blmj"}},19:function(e,t,n){e.exports={listItem:"Contact_listItem__2kRRr",listBtn:"Contact_listBtn__36o9E"}},20:function(e,t,n){e.exports={label:"Filter_label__3ccTI",input:"Filter_input__3MrL7"}},39:function(e,t,n){},41:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(8),o=n.n(a),u=(n(39),n(15)),i=(n(40),n(41),n(2)),s=n(9),l=n(34),b=n(3),j=n(10),d=n.n(j),f={name:"",number:""},p=n(7),O=n.n(p),m=n(16),h=n(5),v=n(31),x=n(32),g=n(33),k=n.n(g),y=function(){function e(){Object(v.a)(this,e)}return Object(x.a)(e,null,[{key:"get",value:function(e){return this.axiosInstance.get(e)}},{key:"post",value:function(e,t){return this.axiosInstance.post(e,t)}},{key:"delete",value:function(e){return this.axiosInstance.delete(e)}}]),e}();y.axiosInstance=k.a.create({baseURL:"https://61e019670f3bdb0017934d83.mockapi.io"});var _=y,C=Object(h.c)("contacts/FetchContacts",Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("/contacts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),w=Object(h.c)("contacts/DeleteConctact",function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.delete("/contacts/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(h.c)("contacts/AddContact",function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("/contacts",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=function(e,t){return e.some((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},I=n(1);var L=function(){var e=Object(r.useReducer)((function(e,t){var n=t.option,r=t.value;if("reset"===n)return f;return Object(s.a)(Object(s.a)({},e),{},Object(i.a)({},n,r))}),f),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(b.b)(),o=Object(b.c)((function(e){return e.phonebook.contacts}));return Object(I.jsxs)("form",{onSubmit:function(e){var t=n.name;if(e.preventDefault(),N(o,t))return u.b.info("".concat(t," has already been added")),void c({option:"reset"});a(F(n)),c({option:"reset"})},className:d.a.form,children:[Object(I.jsx)("label",{className:d.a.label,htmlFor:"name",children:"Name"}),Object(I.jsx)("input",{className:d.a.input,type:"text",name:"name",id:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n.name,onChange:function(e){var t=e.currentTarget,n=t.name,r=t.value;c({option:n,value:r})}}),Object(I.jsx)("label",{className:d.a.label,htmlFor:"number",children:"Number"}),Object(I.jsx)("input",{className:d.a.input,type:"tel",name:"number",id:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:n.number,onChange:function(e){var t=e.currentTarget,n=t.name,r=t.value;c({option:n,value:r})}}),Object(I.jsx)("button",{type:"submit",children:"Add contact"})]})},A=n(19),B=n.n(A);var q=function(e){var t=e.id,n=e.name,r=e.number,c=e.deleteFunction;return Object(I.jsxs)("li",{className:B.a.listItem,children:[Object(I.jsx)("p",{children:"".concat(n,": ").concat(r)}),Object(I.jsx)("button",{className:B.a.listBtn,onClick:function(){c(t)},children:"Delete"})]})};var z=function(){var e=Object(b.c)((function(e){return e.phonebook.contacts})),t=Object(b.c)((function(e){return e.phonebook.filter})),n=Object(b.b)(),r=function(e){return n(w(e))},c=e.filter((function(e){var n;return null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase())})).map((function(e){var t=e.id,n=e.name,c=e.number;return Object(I.jsx)(q,{id:t,name:n,number:c,deleteFunction:r},t)}));return Object(I.jsx)("ul",{children:c})},E=n(20),R=n.n(E),T=Object(h.b)("phonebook/UpdateFilter");var D=function(){var e=Object(b.c)((function(e){return e.phonebook.filter})),t=Object(b.b)();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("label",{className:R.a.label,htmlFor:"filter",children:"Find contacts by name"}),Object(I.jsx)("input",{className:R.a.input,id:"filter",value:e,onChange:function(e){var n=e.currentTarget;return t(T(n.value))}})]})};var J=function(e){var t=e.msg;return Object(I.jsx)("p",{children:t})};var M,S,Y,Z=function(){var e=Object(b.c)((function(e){return e.phonebook.contacts})),t=Object(b.c)((function(e){return e.phonebook.isLoading})),n=Object(b.c)((function(e){return e.phonebook.error})),c=Object(b.b)();return Object(r.useEffect)((function(){c(C())}),[c]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h1",{children:"Phonebook"}),Object(I.jsx)(L,{}),Object(I.jsx)("h2",{children:"Contacts"}),n&&Object(I.jsx)("p",{children:"Something went wrong, try again later"}),e.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(D,{}),Object(I.jsx)(z,{})]}):Object(I.jsx)(J,{msg:"You seem not to have any contacts yet"}),t&&Object(I.jsx)("p",{children:"Your request is being processed"}),Object(I.jsx)(u.a,{})]})},P=n(21),U=n(6),V=Object(h.d)([],(M={},Object(i.a)(M,F.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(P.a)(e),[n])})),Object(i.a)(M,w.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Object(i.a)(M,C.fulfilled,(function(e,t){var n=t.payload;return Object(P.a)(n)})),M)),W=Object(h.d)("",Object(i.a)({},T,(function(e,t){return t.payload}))),$=Object(h.d)(!1,(S={},Object(i.a)(S,F.pending,(function(){return!0})),Object(i.a)(S,F.fulfilled,(function(){return!1})),Object(i.a)(S,F.rejected,(function(){return!1})),Object(i.a)(S,w.pending,(function(){return!0})),Object(i.a)(S,w.fulfilled,(function(){return!1})),Object(i.a)(S,w.rejected,(function(){return!1})),Object(i.a)(S,C.pending,(function(){return!0})),Object(i.a)(S,C.fulfilled,(function(){return!1})),Object(i.a)(S,C.rejected,(function(){return!1})),S)),G=Object(h.d)(null,(Y={},Object(i.a)(Y,F.pending,(function(){return null})),Object(i.a)(Y,F.rejected,(function(e,t){return t.payload})),Object(i.a)(Y,w.pending,(function(){return null})),Object(i.a)(Y,w.rejected,(function(e,t){return t.payload})),Object(i.a)(Y,C.pending,(function(){return null})),Object(i.a)(Y,C.rejected,(function(e,t){return t.payload})),Y)),H=Object(U.b)({contacts:V,filter:W,isLoading:$,error:G}),K=Object(h.a)({reducer:{phonebook:H}});o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(b.a,{store:K,children:Object(I.jsx)(Z,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.9b95f016.chunk.js.map